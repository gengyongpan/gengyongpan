<%@ page language="java" contentType="text/html; charset=utf-8"
	pageEncoding="UTF-8"%>
<%
	String contextPath = request.getContextPath();
	String chartID = request.getParameter('chartID');
	String dataURL = request.getParameter('dataURL');
%>
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>信息科技</title>
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/global.css" rel="stylesheet">
    <link href="css/title.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="js/html5shiv.min.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]-->
    <style>
        body {
            background: transparent;
            color: #8CD6EE;
            font-family: "Microsoft Yahei";
            font-size: 1.8rem;
            font-weight: bold;
            margin: 0;
        }

        .light {
            font-size: 2.4rem;
            color: #fff;
            text-shadow: 0 0 10px #6AC7E8,
            0 0 20px #6AC7E8;
        }

        .col-xs-3 {
            padding: 0;
        }

        .col-xs-4 {
            padding: 0;
            width: 37.5%;
        }

        .itUl {
            width: 150px;
            position: absolute;
            top: 50px;
            left: 50px;
        }

        .itUl li {
            font-size: 1rem;
            line-height: 16px;
        }

        .itProgress {
            margin: 0;
            height: 10px;
            background: #297AA5;
        }

        .itProgress .progress-bar {
            line-height: 8px;
            background: #8CD6EE;
            color: #fff;
        }

        .itProgress_v {
            width: 32px;
            height: 60px;
            margin: 0;
            background: #297AA5 url("images/dianchi.png") repeat-y;
            position: absolute;
            left: 232px;
            top: 60px;
        }

        .itProgress_v .progress-bar {
            width: 32px;
            background: #8CD6EE url("images/dianchi2.png") repeat-y;
            float: right;
            position: absolute;
            bottom: 0;
            color: #fff;
        }
	
        .itProgress_v2 {
            width: 32px;
            height: 60px;
            margin: 0;
            background: #297AA5 url("images/dianchi.png") repeat-y;
            position: absolute;
            right: 232px;
            top: 60px;
        }

        .itProgress_v2 .progress-bar {
            width: 32px;
            background: #8CD6EE url("images/dianchi2.png") repeat-y;
            float: right;
            position: absolute;
            bottom: 0px;
            color: #fff;
        }

        .chrome_adjust {
            font-size: 9px;
            -webkit-transform: scale(0.90);
        }

        .itProject {
            width: 180px;
            position: absolute;
            top: 48px;
            right: 40px;
        }

        .itProject li {
            line-height: 14px;
            font-size: 1.2rem;
            height: 16px;
            width: 180px;
            cursor: pointer;
        }

        .itProject li:hover {
            background: #014262;
            color: #fff;
        }

        .default #ybp {
            background: url("images/yibiaopan.png") center center no-repeat;
            text-align: center;
            height: 150px;
        }

        .dianchiTop {
            background: url("images/dianchiTop.png") no-repeat;
            width: 13px;
            height: 3px; 
            position: absolute;
            top: 57px;
            left: 242px;
        }
        .default .it_leftBg{
        	background: url('images/it_leftBg.png') no-repeat 13px 25px;height: 182px;margin-top: 60px;
        }
        .default .it_rightBg{
        	background: url('images/it_rightBg.png') no-repeat 45px 25px; height: 162px;margin-top: 60px;
        }
        .theme_1 .it_leftBg{
        	background: url('images/it_leftBg_lan.png') no-repeat 13px 25px;height: 182px;margin-top: 60px;
        }
        .theme_1 .it_rightBg{
        	background: url('images/it_rightBg_lan.png') no-repeat 45px 25px;height: 162px;margin-top: 60px;
        }
        .theme_1 #ybp {
            background: url("images/yibiaopan_lan.png") center center no-repeat;
            text-align: center;
            height: 150px;
        }
        .theme_2{
        	color:#ffe4a9;
        }
        .theme_2 .itProgress {
            margin: 0;
            height: 10px;
            background: #ce3838;
        }
        .theme_2 .itProgress_v2 {
            width: 32px;
            height: 60px;
            margin: 0;
            background: #ffe4a9 url("images/dianchi.png") repeat-y;
            position: absolute;
            right: 232px;
            top: 60px;
        }
        .theme_2 .itProgress .progress-bar {
            line-height: 8px;
            background: #ffe4a9;
            color: #fff;
        }
        .theme_2 .it_leftBg{
        	background: url('images/it_leftBg_lan.png') no-repeat 13px 25px;height: 182px;margin-top: 60px;
        }
        .theme_2 .it_rightBg{
        	background: url('images/it_rightBg_lan.png') no-repeat 45px 25px;height: 162px;margin-top: 60px;
        }
        .theme_2 #ybp {
            background: url("images/yibiaopan_red.png") center center no-repeat;
            text-align: center;
            height: 150px;
        }
    </style>
</head>
<body class="theme_2">

<div style="width: 956px;height: 300px;">
    <div class="row" style="height: 100%;">
        <div class="col-xs-4 it_leftBg">
            <div style="position: absolute;top: 8px;left: 68px;font-size: 1.5rem">立案案件数量</div>
            <ul class="itUl">
                <li class="chrome_adjust">立案走私偷逃税额</li>
                <div class="progress itProgress">
                    <div class="progress-bar" role="progressbar" aria-valuenow="40" aria-valuemin="0"
                         aria-valuemax="100" style="width: 40%;">
                        40%
                    </div>
                </div>
                <li class="chrome_adjust">立案走私案件价值</li>
                <div class="progress itProgress">
                    <div class="progress-bar" role="progressbar" aria-valuenow="30" aria-valuemin="0"
                         aria-valuemax="100" style="width:30%;">
                        30%
                    </div>
                </div>
                <li class="chrome_adjust">走私犯罪立案案数</li>
                <div class="progress itProgress">
                    <div class="progress-bar" role="progressbar" aria-valuenow="80" aria-valuemin="0"
                         aria-valuemax="100" style="width: 80%;">
                        80%
                    </div>
                </div>
            </ul>

            <div class="dianchiTop"></div>
            <div class="progress itProgress_v">
                <div class="progress-bar" role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"
                     style="height: 70%;">
                    70%
                </div>
            </div>
            <div style="font-size: 1.4rem;width: 70px;position: absolute;top: 80px;right:-10px;line-height: 16px;">
                信息科技<br/>资产利用率
            </div>
        </div>
        <div class="col-xs-3" style="margin-top: 60px;">
            <div id="ybp"></div>
        </div>
        <div class="col-xs-4 it_rightBg">
            <div style="position: absolute;top: 8px;right: 68px;font-size: 1.5rem">结案案件数量</div>
            <div class="glyphicon glyphicon-facetime-video" style="position: absolute;top:60px;left: 144px;"></div>
            <div class="glyphicon glyphicon-heart" style="position: absolute;top:87px;left: 144px;"></div>
            <div class="glyphicon glyphicon-eye-open" style="position: absolute;top:110px;left: 144px;"></div>
            <ul class="itUl" style="left: 165px">
                <li class="chrome_adjust" style="width: 220px;">结案走私偷逃税额</li>
                <div class="progress itProgress">
                    <div class="progress-bar" role="progressbar" aria-valuenow="40" aria-valuemin="0"
                         aria-valuemax="100" style="width: 40%;">
                        40%
                    </div>
                </div>
                <li class="chrome_adjust" style="width: 220px;">结案走私案件价值</li>
                <div class="progress itProgress">
                    <div class="progress-bar" role="progressbar" aria-valuenow="30" aria-valuemin="0"
                         aria-valuemax="100" style="width:30%;">
                        30%
                    </div>
                </div>
                <li class="chrome_adjust" style="width: 220px;">走私犯罪结案案数</li>
                <div class="progress itProgress">
                    <div class="progress-bar" role="progressbar" aria-valuenow="80" aria-valuemin="0"
                         aria-valuemax="100" style="width: 80%;">
                        80%
                    </div>
                </div>
            </ul>


            <div class="dianchiTop" style="left: 115px"></div>
            <div class="progress itProgress_v2">
                <div class="progress-bar" role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"
                     style="height: 70%;">
                    70%
                </div>
            </div>
            <div style="font-size: 1.4rem;width: 70px;position: absolute;top: 80px;left:-10px;line-height: 16px;text-align: right">
                IT项目<br/>建设完成率
            </div>
        </div>
    </div>
</div>


<script src="js/jquery-1.11.2.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/echarts-2.2.3/build/dist/echarts-all.js"></script>
<script src="js/global.js"></script>
<script src="js/theme_custom.js"></script>
<script type="text/javascript">
    var myChart = echarts.init(document.getElementById('ybp'));
    var investment_num = $("#investment_num").html();
    var assets_num = $("#assets_num").html();
    var b = (investment_num / assets_num).toFixed(2) * 100;
    //alert(b);
    option = {
        series: [
            {
                name: '业务指标',
                type: 'gauge',
                center: ['50%', '60%'],
                min: 0,
                max: 120,
                startAngle: 208,
                endAngle: -30,
                radius: [0, '100%'],
                splitNumber: 10,       // 分割段数，默认为5
                axisLine: {            // 坐标轴线
                    lineStyle: {       // 属性lineStyle控制线条样式
                        color: [[0.2, '#5EBEE8'], [0.8, '#5EBEE8'], [1, '#5EBEE8'], [1.2, '#5EBEE8']],
                        width: 0
                    }
                },
                axisTick: {            // 坐标轴小标记
                    splitNumber: 10,   // 每份split细分多少段
                    length: 0,        // 属性length控制线长
                    lineStyle: {       // 属性lineStyle控制线条样式
                        color: 'auto'
                    }
                },
                axisLabel: {           // 坐标轴文本标签，详见axis.axisLabel
                    show: false,
                    textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                        color: 'auto'
                    }
                },
                splitLine: {           // 分隔线
                    show: true,        // 默认显示，属性show控制显示与否
                    length: 0,         // 属性length控制线长
                    lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
                        color: 'auto'
                    }
                },
                pointer: {
                    width: 5
                },
                title: {
                    show: false,
                    offsetCenter: [0, '-40%'],       // x, y，单位px
                    textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                        fontWeight: 'bolder'
                    }
                },
                detail: {
                    show: false,
                    formatter: '{value}%',
                    textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                        color: 'auto',
                        fontWeight: 'bolder'

                    }
                },
                //data: [{value: b, name: '信息科技投资占比'}]
            }
            
        ]
    };

    // 为echarts对象加载数据
        var contextPath = "<%=contextPath%>";
			var dataURL = "<%=dataURL%>";
        	(function(){
			var datas = {
				chartMoudleId: "",
				sqlParams: {}
			};
			$.ajax({
	            type: "POST",
	            async: false,
	            url: getChartDataURL(dataURL, contextPath) + '?chartMoudleId=',
	            dataType: "json",
	            data: datas,
	            success: function (msg) {
	            	var option_data = eval('(' + msg.data[0].option + ')');
	            	var strOptionCode = sessionStorage.getItem("echarts_option_<%=chartID%>");
	            	(new Function(strOptionCode))();
	            	option_data = copyJSONAtoB_noArrayNull(_option, option_data);
	            	myChart	.setOption(option_data);
	            	 myChart.setTheme(changeEchartsColor());
	            },
	            error: function (xhr, txt, err) {
	                console.log(xhr.status + ":" + txt + ", " + err.message);
	            }
			});
		})(); 
   
   // 更换主题
	changeBodyColor();
</script>
</body>
</html>